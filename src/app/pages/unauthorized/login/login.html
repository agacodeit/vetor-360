<main class="login">
    <section class="login__container">
        <ds-card size="md" maxWidth="450" [clickable]="false">

            <header class="login__header">
                <div class="login__logo">
                    <img height="150px" width="auto" src="assets/logo/vetor-logo-1067x600.jpg" alt="Vetor 360 Logo"
                        loading="lazy" decoding="async">
                </div>
                <p class="login__subtitle">Acesse a plataforma e conecte clientes às melhores soluções financeiras
                </p>
            </header>

            <form [formGroup]="loginForm" (ngSubmit)="login()" class="login__form">
                <fieldset class="login__fieldset">
                    <div class="login__inputs">
                        <ds-input label="E-mail" placeholder="Digite seu e-mail" [fullWidth]="true"
                            formControlName="email" [invalid]="!!(email?.invalid && email?.touched)"
                            [errorMessage]="email?.invalid && email?.touched ? 'E-mail é obrigatório e deve ser válido' : ''">
                        </ds-input>

                        <ds-input label="Senha" placeholder="******" type="password" [fullWidth]="true"
                            icon="fa-light fa-eye" iconPosition="right" formControlName="password"
                            [invalid]="!!(password?.invalid && password?.touched)"
                            [errorMessage]="password?.invalid && password?.touched ? 'Senha é obrigatória e deve ter pelo menos 6 caracteres' : ''">
                        </ds-input>

                        <button type="button" (click)="forgotPassword()" class="login__forgot-password">
                            Esqueceu a senha?
                        </button>
                    </div>
                </fieldset>

                <div class="login__actions">
                    <ds-button label="Entrar" type="submit" [fullWidth]="true" [rounded]="true" [disabled]="isLoading"
                        [isLoading]="isLoading">
                    </ds-button>

                    <ds-button label="Cadastre-se" (onClickEmitter)="signup()" [fullWidth]="true" variant="outline"
                        [rounded]="true" [disabled]="isLoading">
                    </ds-button>
                </div>

                <div *ngIf="errorMessage" class="login__error" role="alert">
                    {{ errorMessage }}
                </div>
            </form>
        </ds-card>
    </section>
</main>